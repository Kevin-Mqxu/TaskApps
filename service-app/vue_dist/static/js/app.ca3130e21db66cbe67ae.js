webpackJsonp([1],{NHnr:function(t,e,s){"use strict";function i(t){s("jcAv")}function n(t){s("Yblb")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),o=s("mvHQ"),l=s.n(o),c=s("mtWM"),r={props:["task","tasksUrl"],data:function(){return{isEditing:!1}},methods:{editTask:function(t){this.isEditing=!0},saveTask:function(t){this.isEditing=!1,c.put(this.tasksUrl,t).then(function(t){console.log(t.data)}).catch(function(t){console.log(error)})},deleteTask:function(t){this.$emit("delete-task",t)},completeTask:function(t){console.log("Completing task:"+l()(t)),t.completed=!0,console.log("Putting task:"+l()(t)),c.put(this.tasksUrl,t).then(function(t){console.log(t.data)}).catch(function(t){console.log(error)})}}},d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui centered card"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditing,expression:"!isEditing"}],staticClass:"content"},[s("div",{staticClass:"header"},[t._v("\n        "+t._s(t.task.title)+"\n    ")]),t._v(" "),s("div",{staticClass:"meta"},[t._v("\n        "+t._s(t.task.description)+"\n    ")]),t._v(" "),s("div",{staticClass:"extra content"},[s("span",{staticClass:"right floated edit icon",on:{click:function(e){t.editTask(t.task)}}},[s("i",{staticClass:"edit icon"})]),t._v(" "),s("span",{staticClass:"right floated trash icon",on:{click:function(e){t.deleteTask(t.task)}}},[s("i",{staticClass:"trash icon"})])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditing,expression:"isEditing"}],staticClass:"content"},[s("div",{staticClass:"ui form"},[s("div",{staticClass:"field"},[s("label",[t._v("Title")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.task.title,expression:"task.title"}],attrs:{type:"text"},domProps:{value:t.task.title},on:{input:function(e){e.target.composing||t.$set(t.task,"title",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"field"},[s("label",[t._v("Description")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],attrs:{type:"text"},domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"ui two button attached buttons"},[s("button",{staticClass:"ui basic blue button",on:{click:function(e){t.saveTask(t.task)}}},[t._v("\n          Save\n        ")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditing&&t.task.completed,expression:"!isEditing && task.completed"}],staticClass:"ui bottom attached green basic label"},[t._v("\n      Completed\n  ")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditing&&!t.task.completed,expression:"!isEditing && !task.completed"}],staticClass:"ui bottom attached red basic button",on:{click:function(e){t.completeTask(t.task)}}},[t._v("\n      Complete\n  ")])])},u=[],v={render:d,staticRenderFns:u},p=v,k=s("VU/8"),h=k(r,p,!1,null,null,null),m=h.exports,g=s("mtWM"),f={props:["tasks","tasksUrl"],components:{Task:m},methods:{deleteTask:function(t){var e=this.tasks.indexOf(t);this.tasks.splice(e,1);var s=this.tasksUrl+"/"+t._id;g.delete(s).then(function(t){console.log(t.data)}).catch(function(t){console.log(error)})}}},_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",[t._v("Completed Tasks: "+t._s(t.tasks.filter(function(t){return!0===t.completed}).length))]),t._v(" "),s("p",[t._v("In-Progress Tasks: "+t._s(t.tasks.filter(function(t){return!1===t.completed}).length))]),t._v(" "),t._l(t.tasks,function(e){return s("task",{key:e.id,attrs:{task:e,tasksUrl:t.tasksUrl},on:{"delete-task":t.deleteTask}})})],2)},C=[],T={render:_,staticRenderFns:C},b=T,x=s("VU/8"),w=i,E=x(f,b,!1,w,null,null),U=E.exports,N={data:function(){return{titleText:"",descriptionText:"",isCreating:!1}},methods:{openForm:function(){this.isCreating=!0},closeForm:function(){this.isCreating=!1},sendForm:function(){if(console.log("send Form entered."),console.log(this.titleText+" "+this.descriptionText),this.titleText.length>0&&this.descriptionText.length>0){var t=this.titleText,e=this.descriptionText;console.log("title:"+t),console.log("description:"+e),this.$emit("add-task",{title:t,description:e,completed:!1}),this.newTaskText=""}this.isCreating=!1}}},F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui basic content center aligned segment"},[s("button",{directives:[{name:"show",rawName:"v-show",value:!t.isCreating,expression:"!isCreating"}],staticClass:"ui basic button icon",on:{click:t.openForm}},[s("i",{staticClass:"plus icon"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isCreating,expression:"isCreating"}],staticClass:"ui centered card"},[s("div",{staticClass:"content"},[s("div",{staticClass:"ui form"},[s("div",{staticClass:"field"},[s("label",[t._v("Title")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.titleText,expression:"titleText"}],ref:"title",attrs:{type:"text",defaultValue:""},domProps:{value:t.titleText},on:{input:function(e){e.target.composing||(t.titleText=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"field"},[s("label",[t._v("Description")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.descriptionText,expression:"descriptionText"}],ref:"title",attrs:{type:"text",defaultValue:""},domProps:{value:t.descriptionText},on:{input:function(e){e.target.composing||(t.descriptionText=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"ui two button attached buttons"},[s("button",{staticClass:"ui basic blue button",on:{click:function(e){t.sendForm()}}},[t._v("\n            Create\n          ")]),t._v(" "),s("button",{staticClass:"ui basic red button",on:{click:t.closeForm}},[t._v("\n            Cancel\n          ")])])])])])])},y=[],P={render:F,staticRenderFns:y},$=P,V=s("VU/8"),A=V(N,$,!1,null,null,null),M=A.exports,R=s("mtWM"),W=s("1nuA"),j={name:"app",components:{TaskList:U,CreateTask:M},data:function(){return{tasksUrl:"/tasks",tasks:[{title:"Placeholder Task",description:"Click load button to loading tasks from database",completed:!1}]}},methods:{addTask:function(t){console.log("addTask entered."),this.tasks.push(t),R.post(this.tasksUrl,t).then(function(e){console.log(e.data),t._id=e.data._id}).catch(function(t){console.log(error)})},loadTasks:function(){var t=this,e=this.tasksUrl+"?"+W.stringify({r:Math.random()});console.log(e),R.get(e).then(function(e){for(console.log("Tasks have been loaded."),console.log("this.tasks.length:"+t.tasks.length),console.log("res.data.length:"+e.data.length);t.tasks.pop(););console.log("this.tasks.length:"+t.tasks.length),e.data.forEach(function(e){t.tasks.push(e)}),console.log("this.tasks.length:"+t.tasks.length)}).catch(function(t){console.log("Tasks cannot be loaded correctly, using hard-coded tasks instead. Error details: "+t),alert("Load error.")})}}},H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("button",{staticClass:"ui basic button icon",on:{click:t.loadTasks}},[t._v("\n    Load\n  ")]),t._v(" "),s("create-task",{on:{"add-task":t.addTask}}),t._v(" "),s("task-list",{attrs:{tasks:t.tasks,tasksUrl:t.tasksUrl}})],1)},L=[],D={render:H,staticRenderFns:L},O=D,Y=s("VU/8"),I=n,J=Y(j,O,!1,I,null,null),Q=J.exports;a.a.config.productionTip=!1,new a.a({el:"#app",template:"<App/>",components:{App:Q}})},Yblb:function(t,e){},jcAv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ca3130e21db66cbe67ae.js.map